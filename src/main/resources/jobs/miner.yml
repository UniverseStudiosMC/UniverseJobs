# ===================================
# MINER JOB CONFIGURATION
# ===================================
# This job rewards players for mining blocks and fighting underground creatures
# Configure XP rewards, level up actions, and mining-related activities

# Basic job information
name: "Miner"
description: "Extract valuable resources from the depths of the earth"
enabled: true
max-level: 100
permission: "jobsadventure.job.miner"
icon: "DIAMOND_PICKAXE"

# XP progression curve
xp-equation: "100 * Math.pow(level, 1.8)"

# XP message display
xp-message:
  type: "actionbar"
  text: "&e+{exp} XP &8| &6{job} &7Level {level}"
  actionbar:
    duration: 60

# Job description and lore
lore:
  - "&7Dig deep and discover precious ores!"
  - "&7Level up by mining stones and ores"
  - "&7Unlock better tools and rewards"

# ===================================
# JOB ACTIONS - WHAT GIVES XP
# ===================================
actions:
  BREAK:
    # Basic materials
    stone:
      target: "STONE"
      xp: 1.0
      name: "Stone Mining"
    
    coal_ore:
      target: "COAL_ORE"
      xp: 3.0
      name: "Coal Mining"
    
    iron_ore:
      target: "IRON_ORE"
      xp: 5.0
      name: "Iron Mining"
      requirements:
        logic: "AND"
        item:
          material: "IRON_PICKAXE"
          deny:
            message: "&cYou need at least an iron pickaxe!"
    
    gold_ore:
      target: "GOLD_ORE"
      xp: 8.0
      name: "Gold Mining"
    
    diamond_ore:
      target: "DIAMOND_ORE"
      xp: 15.0
      name: "Diamond Mining"
      requirements:
        logic: "AND"
        item:
          material: "DIAMOND_PICKAXE"
          deny:
            message: "&cYou need a diamond pickaxe for this!"
        placeholder:
          placeholder: "%player_y%"
          operator: "less_than"
          value: "16"
          deny:
            message: "&cDiamonds are only found at Y level 16 or below!"
    
    ancient_debris:
      target: "ANCIENT_DEBRIS"
      xp: 25.0
      name: "Ancient Debris Mining"
      requirements:
        logic: "AND"
        item:
          material: "NETHERITE_PICKAXE"
          deny:
            message: "&cAncient debris requires a netherite pickaxe!"

  KILL:
    # Underground creatures
    zombie:
      target: "ZOMBIE"
      xp: 2.0
      name: "Cave Zombie Elimination"
      requirements:
        logic: "AND"
        placeholder:
          placeholder: "%player_y%"
          operator: "less_than"
          value: "50"
          deny:
            message: "&cThis bonus only applies underground!"
    
    skeleton:
      target: "SKELETON"
      xp: 2.5
      name: "Cave Skeleton Elimination"
      requirements:
        logic: "AND"
        placeholder:
          placeholder: "%player_y%"
          operator: "less_than"
          value: "50"

# ===================================
# LEVEL UP ACTIONS - REWARDS & EFFECTS
# ===================================
levelup-actions:
  # Welcome message for new miners
  welcome_message:
    type: "message"
    levels: [1]
    messages:
      - "&8&l‚ñ¨‚ñ¨‚ñ¨‚ñ¨‚ñ¨‚ñ¨‚ñ¨‚ñ¨‚ñ¨‚ñ¨‚ñ¨‚ñ¨‚ñ¨‚ñ¨‚ñ¨‚ñ¨‚ñ¨‚ñ¨‚ñ¨‚ñ¨‚ñ¨‚ñ¨‚ñ¨‚ñ¨‚ñ¨‚ñ¨‚ñ¨‚ñ¨‚ñ¨‚ñ¨‚ñ¨‚ñ¨‚ñ¨‚ñ¨"
      - "&6&l‚ú¶ WELCOME TO THE MINER JOB! ‚ú¶"
      - "&7You are now a level &e{level} &7miner!"
      - "&7Mine ores and stones to gain experience!"
      - "&8&l‚ñ¨‚ñ¨‚ñ¨‚ñ¨‚ñ¨‚ñ¨‚ñ¨‚ñ¨‚ñ¨‚ñ¨‚ñ¨‚ñ¨‚ñ¨‚ñ¨‚ñ¨‚ñ¨‚ñ¨‚ñ¨‚ñ¨‚ñ¨‚ñ¨‚ñ¨‚ñ¨‚ñ¨‚ñ¨‚ñ¨‚ñ¨‚ñ¨‚ñ¨‚ñ¨‚ñ¨‚ñ¨‚ñ¨‚ñ¨"
  
  # Basic level up effects for all levels
  level_up_sound:
    type: "sound"
    min-level: 1
    sound: "ENTITY_PLAYER_LEVELUP"
  
  level_up_title:
    type: "title"
    min-level: 2
    title: "&6&lLEVEL UP!"
    subtitle: "&7Miner Level &e{level}"
    fade-in: 10
    stay: 50
    fade-out: 20
  
  level_up_particles:
    type: "particle"
    min-level: 1
    particle: "FLAME"
    count: 25
  
  # Tool rewards at specific levels
  iron_pickaxe_reward:
    type: "command"
    levels: [5]
    commands:
      - "give {player} iron_pickaxe 1"
      - "tellraw {player} {\"text\":\"üéÅ You received an Iron Pickaxe for reaching level 5!\",\"color\":\"gold\"}"
  
  diamond_pickaxe_reward:
    type: "command"
    levels: [25]
    commands:
      - "give {player} diamond_pickaxe 1"
      - "tellraw {player} {\"text\":\"üíé You received a Diamond Pickaxe for reaching level 25!\",\"color\":\"aqua\"}"
  
  # Money rewards every 10 levels
  money_rewards:
    type: "command"
    min-level: 10
    level-interval: 10
    commands:
      - "eco give {player} {level}00"
      - "tellraw {player} {\"text\":\"üí∞ You earned ${level}00 for reaching level {level}!\",\"color\":\"green\"}"
  
  # Major milestone announcements
  milestone_broadcast:
    type: "broadcast"
    levels: [20, 40, 60, 80, 100]
    messages:
      - "&6‚öí {player} &7has reached level &e{level} &7in the Miner job! ‚öí"
  
  # Special rewards for high levels
  master_miner:
    type: "command"
    levels: [50]
    commands:
      - "broadcast &6üèÜ {player} &7has become a &eMaster Miner&7! üèÜ"
      - "give {player} diamond 10"
      - "give {player} emerald 5"
  
  legendary_miner:
    type: "command"
    levels: [100]
    commands:
      - "broadcast &6&lüåü {player} &7has achieved &eLEGENDARY MINER &7status! &6&lüåü"
      - "give {player} netherite_ingot 5"
      - "give {player} diamond_block 3"